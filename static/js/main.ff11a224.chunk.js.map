{"version":3,"sources":["components/Form/Form.js","components/Spinner/Spinner.js","components/Details/Details.js","assets/icons/icon-location.svg","components/Map/Map.js","apis/ipLocation.js","hooks/useLocation.js","components/App/App.js","index.js"],"names":["Form","onFormSubmit","useState","term","setTerm","className","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","Spinner","Details","ipInfo","ip","address","timeZone","isp","Map","lat","lng","useEffect","myMap","window","L","map","setView","tileLayer","attribution","maxZoom","id","tileSize","zoomOffset","accessToken","process","addTo","myIcon","icon","iconUrl","markerIcon","iconSize","marker","off","remove","axios","create","baseURL","ipRegex","domainRegex","useLocation","defaultTerm","setIpInfo","getLocation","a","termType","test","alert","ipLocation","params","apiKey","res","data","location","newInfo","city","country","postalCode","timezone","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff11a224.chunk.js","sourcesContent":["import \"./Form.scss\";\nimport { useState } from \"react\";\n\nconst Form = ({ onFormSubmit }) => {\n  const [term, setTerm] = useState(\"\");\n\n  const onInputChange = (e) => {\n    setTerm(e.target.value);\n  };\n\n  return (\n    <form\n      className=\"search__form\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        onFormSubmit(term);\n        setTerm(\"\");\n      }}\n    >\n      <input\n        className=\"search__input\"\n        type=\"text\"\n        placeholder=\"Search for IP or domain\"\n        value={term}\n        onChange={onInputChange}\n      />\n      <button className=\"search__btn\"></button>\n    </form>\n  );\n};\n\nexport default Form;\n","import \"./Spinner.scss\";\n\nconst Spinner = () => {\n  return (\n    <span className=\"spinner\">\n      <span></span>\n      <span></span>\n    </span>\n  );\n};\n\nexport default Spinner;\n","import \"./Details.scss\";\nimport Spinner from \"../Spinner/Spinner\";\n\nconst Details = ({ ipInfo }) => {\n  return (\n    <section className=\"details\">\n      <div className=\"detail\">\n        <p className=\"detail__name\">IP ADDRESS</p>\n        <p className=\"detail__data\">{ipInfo.ip ? ipInfo.ip : <Spinner />}</p>\n      </div>\n      <div className=\"detail\">\n        <p className=\"detail__name\">LOCATION</p>\n        <p className=\"detail__data\">\n          {ipInfo.address ? ipInfo.address : <Spinner />}\n        </p>\n      </div>\n      <div className=\"detail\">\n        <p className=\"detail__name\">TIMEZONE</p>\n        <p className=\"detail__data\">\n          UTC {ipInfo.timeZone ? ipInfo.timeZone : <Spinner />}\n        </p>\n      </div>\n      <div className=\"detail\">\n        <p className=\"detail__name\">ISP</p>\n        <p className=\"detail__data\">{ipInfo.isp ? ipInfo.isp : <Spinner />}</p>\n      </div>\n    </section>\n  );\n};\n\nexport default Details;\n","export default __webpack_public_path__ + \"static/media/icon-location.7e6459d2.svg\";","import \"./Map.scss\";\nimport { useEffect } from \"react\";\n\nimport markerIcon from \"../../assets/icons/icon-location.svg\";\n\nconst Map = ({ lat, lng }) => {\n  useEffect(() => {\n    let myMap = window.L.map(\"map\").setView([lat, lng], 13);\n\n    window.L.tileLayer(\n      \"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}\",\n      {\n        attribution:\n          'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n        maxZoom: 18,\n        id: \"mapbox/streets-v11\",\n        tileSize: 512,\n        zoomOffset: -1,\n        accessToken: process.env.REACT_APP_MAPBOX_API_KEY,\n      }\n    ).addTo(myMap);\n\n    const myIcon = window.L.icon({\n      iconUrl: markerIcon,\n      iconSize: [46, 56],\n    });\n\n    window.L.marker([lat, lng], { icon: myIcon }).addTo(myMap);\n\n    return () => {\n      myMap.off();\n      myMap.remove();\n    };\n  }, [lat, lng]);\n\n  return <section id=\"map\" className=\"map\"></section>;\n};\n\nexport default Map;\n","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://geo.ipify.org/api/v1\",\n});\n","import { useState, useEffect } from \"react\";\nimport ipLocation from \"../apis/ipLocation\";\n\nconst ipRegex = /((^\\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\\s*$)|(^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$))/g;\nconst domainRegex = /(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/g;\n\nconst useLocation = (defaultTerm) => {\n  const [ipInfo, setIpInfo] = useState({\n    ip: \"\",\n    address: \"\",\n    timeZone: \"\",\n    isp: \"\",\n    lat: 0,\n    lng: 0,\n  });\n\n  useEffect(() => {\n    getLocation(defaultTerm);\n    // eslint-disable-next-line\n  }, [defaultTerm]);\n\n  const getLocation = async (term) => {\n    let termType = \"\";\n\n    if (term === \"\") {\n      termType = \"\";\n    } else if (ipRegex.test(term)) {\n      termType = \"ipAddress\";\n    } else if (domainRegex.test(term)) {\n      termType = \"domain\";\n    } else {\n      alert(\"Enter valid ip address or domain\");\n      return;\n    }\n\n    const res = await ipLocation({\n      params: {\n        apiKey: process.env.REACT_APP_IP_GEOLOCATION_API_KEY,\n        [termType]: term,\n      },\n    });\n\n    const { ip, isp, location } = res.data;\n\n    const newInfo = {\n      ip,\n      address: `${location.city}, ${location.country} ${location.postalCode}`,\n      timeZone: location.timezone,\n      isp,\n      lat: location.lat,\n      lng: location.lng,\n    };\n\n    setIpInfo({ ...ipInfo, ...newInfo });\n  };\n\n  return [ipInfo, getLocation];\n};\n\nexport default useLocation;\n","import \"./App.scss\";\nimport Form from \"../Form/Form\";\nimport Details from \"../Details/Details\";\nimport Map from \"../Map/Map\";\nimport useLocation from \"../../hooks/useLocation\";\n\nfunction App() {\n  const [ipInfo, getLocation] = useLocation(\"\");\n\n  return (\n    <div className=\"app\">\n      <h1 className=\"app__title\">IP Address Tracker</h1>\n      <Form onFormSubmit={getLocation} />\n      <Details ipInfo={ipInfo} />\n      <Map lat={ipInfo.lat} lng={ipInfo.lng} />\n    </div>\n  );\n}\n\nexport default App;\n","import \"./index.scss\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}